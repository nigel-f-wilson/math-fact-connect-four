(this["webpackJsonpmath-fact-connect-four"]=this["webpackJsonpmath-fact-connect-four"]||[]).push([[0],{111:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),a=t(31),o=t.n(a),c=t(10);function s(){var e=Object(r.useState)(window.innerHeight),n=Object(c.a)(e,2),t=n[0],i=n[1];return Object(r.useEffect)((function(){var e=function(){return i(window.innerHeight)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}function l(){var e=Object(r.useState)(window.innerWidth),n=Object(c.a)(e,2),t=n[0],i=n[1];return Object(r.useEffect)((function(){var e=function(){return i(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}t(35),t(36);var u=t(164),d=t(165),h=t(166),f=(t(158),t(167)),b=t(1);var g=t(159),j=t(153),x=t(155),p=t(82),m=t.n(p),O=t(83),v=t.n(O),w=t(81),y=t.n(w);function C(e){var n=e.handleNewGameClick,t=e.handleUndoClick,i=r.useState(null),a=Object(c.a)(i,2),o=a[0],s=a[1],l=function(){s(null)},u=Boolean(o),d=u?"simple-popover":void 0;return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(f.a,{variant:"text","aria-describedby":d,onClick:function(e){s(e.currentTarget)},sx:{color:"common.black",bgcolor:"background",position:"absolute",top:"1%",right:"1%",zIndex:9999,padding:0,minWidth:"10px"},children:Object(b.jsx)(y.a,{})}),Object(b.jsx)(g.a,{id:d,open:u,anchorEl:o,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(b.jsxs)(j.a,{anchorEl:o,open:u,onClose:l,onClick:l,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(b.jsx)(x.a,{children:Object(b.jsx)(S,{handleClick:n})}),Object(b.jsx)(x.a,{children:Object(b.jsx)(F,{handleClick:t})})]})})]})}function S(e){var n=e.handleClick;return Object(b.jsx)(f.a,{variant:"outlined",startIcon:Object(b.jsx)(m.a,{}),onClick:function(){return n()},sx:{width:"100%"},children:"New\xa0Game"})}function F(e){var n=e.handleClick;return Object(b.jsx)(f.a,{variant:"outlined",startIcon:Object(b.jsx)(v.a,{}),onClick:function(){return n()},sx:{width:"100%"},children:"Undo\xa0Move"})}var k=t(4),T=(t(15),new Map([[0,[0,7,14,21]],[1,[0,1,2,3]],[2,[0,8,16,24]],[3,[1,8,15,22]],[4,[1,2,3,4]],[5,[1,9,17,25]],[6,[2,9,16,23]],[7,[2,3,4,5]],[8,[2,10,18,26]],[9,[3,10,17,24]],[10,[3,4,5,6]],[11,[3,11,19,27]],[12,[4,11,18,25]],[13,[5,12,19,26]],[14,[6,13,20,27]],[15,[7,14,21,28]],[16,[7,8,9,10]],[17,[7,15,23,31]],[18,[8,15,22,29]],[19,[8,9,10,11]],[20,[8,16,24,32]],[21,[9,16,23,30]],[22,[9,10,11,12]],[23,[9,17,25,33]],[24,[10,17,24,31]],[25,[10,11,12,13]],[26,[10,18,26,34]],[27,[11,18,25,32]],[28,[12,19,26,33]],[29,[13,20,27,34]],[30,[14,21,28,35]],[31,[14,15,16,17]],[32,[14,22,30,38]],[33,[15,22,29,36]],[34,[15,16,17,18]],[35,[15,23,31,39]],[36,[16,23,30,37]],[37,[16,17,18,19]],[38,[16,24,32,40]],[39,[17,24,31,38]],[40,[17,18,19,20]],[41,[17,25,33,41]],[42,[18,25,32,39]],[43,[19,26,33,40]],[44,[20,27,34,41]],[45,[21,22,23,24]],[46,[21,15,9,3]],[47,[22,23,24,25]],[48,[22,16,10,4]],[49,[23,24,25,26]],[50,[23,17,11,5]],[51,[24,25,26,27]],[52,[24,18,12,6]],[53,[28,29,30,31]],[54,[28,22,16,10]],[55,[29,30,31,32]],[56,[29,23,17,11]],[57,[30,31,32,33]],[58,[30,24,18,12]],[59,[31,32,33,34]],[60,[31,25,19,13]],[61,[35,36,37,38]],[62,[35,29,23,17]],[63,[36,37,38,39]],[64,[36,30,24,18]],[65,[37,38,39,40]],[66,[37,31,25,19]],[67,[38,39,40,41]],[68,[38,32,26,20]]])),I=new Map([[0,[0,1,2]],[1,[1,3,4,5]],[2,[1,4,6,7,8]],[3,[1,4,7,9,10,11,46]],[4,[4,7,10,12,48]],[5,[7,10,13,50]],[6,[10,14,52]],[7,[0,15,16,17]],[8,[2,3,16,18,19,20]],[9,[5,6,16,19,21,22,23,46]],[10,[8,9,16,19,22,24,25,26,48,54]],[11,[11,12,19,22,25,27,50,56]],[12,[13,22,25,28,52,58]],[13,[14,25,29,60]],[14,[0,15,30,31,32]],[15,[3,17,18,31,33,34,35,46]],[16,[2,6,20,21,31,34,36,37,38,48,54]],[17,[5,9,23,24,31,34,37,39,40,41,50,56,62]],[18,[8,12,26,27,34,37,40,42,52,58,64]],[19,[11,13,28,37,40,43,60,66]],[20,[14,29,40,44,68]],[21,[0,15,30,45,46]],[22,[3,18,32,33,45,47,48,54]],[23,[6,17,21,35,36,45,47,49,50,56,62]],[24,[2,9,20,24,38,39,45,47,49,51,52,58,64]],[25,[5,12,23,27,41,42,47,49,51,60,66]],[26,[8,13,26,28,43,49,51,68]],[27,[11,14,29,44,51]],[28,[15,30,53,54]],[29,[18,33,53,55,56,62]],[30,[21,32,36,53,55,57,58,64]],[31,[17,24,35,39,53,55,57,59,60,66]],[32,[20,27,38,42,55,57,59,68]],[33,[23,28,41,43,57,59]],[34,[26,29,44,59]],[35,[30,61,62]],[36,[33,61,63,64]],[37,[36,61,63,65,66]],[38,[32,39,61,63,65,67,68]],[39,[35,42,63,65,67]],[40,[38,43,65,67]],[41,[41,44,67]]]);T.size;function E(e){return"playerOneWins"===e||"playerTwoWins"===e||"gameDrawn"===e}function N(e,n){return e.filter((function(e){return n.includes(e)}))}function z(e,n){return function(e){var n=new Array(42).fill("unclaimed");return e.forEach((function(e,t){if(-1!==e){var r=t%2===0?"playerOne":"playerTwo";n[e]=r}})),n}(n).filter((function(n,t){return t%7===e}))}function q(e){return E(e)?"unclaimed":"playerOnesTurn"===e?"playerOne":"playerTwo"}function A(e){for(var n=e.length%2===1?"playerOne":"playerTwo",t="playerOne"===n?function(e){return e.filter((function(e,n){return n%2===0})).filter((function(e){return-1!==e}))}(e):function(e){return e.filter((function(e,n){return n%2===1})).filter((function(e){return-1!==e}))}(e),r=Number(t.slice(-1)),i=I.get(r),a=0;a<i.length;a++){var o=i[a];if(4===N(T.get(o),t).length)return"playerOne"===n?"playerOneWins":"playerTwoWins"}return e.filter((function(e){return-1!==e})).length>=42?"gameOverDraw":e.length%2===0?"playerOnesTurn":"playerTwosTurn"}var B=t(148),M=t(149),D="14.287%",W="85.714%",L="84%",G=[0,1,2,3,4,5],P=[0,1,2,3,4,5,6];function U(e){var n=e.moveList,t=e.handleColumnClick,r=e.gameStatus;s(),l();function i(e){return function(){var e=new Array(42).fill("unclaimed");return n.forEach((function(n,t){if(-1!==n){var r=t%2===0?"playerOne":"playerTwo";e[n]=r}})),e}().filter((function(n,t){return t%7===e}))}return Object(b.jsxs)(u.a,{id:"gameBoard",disableGutters:!0,sx:{position:"absolute",top:0,height:"95%",width:"95%",display:"flex",flexDirection:"row",alignItems:"flex-end"},children:[Object(b.jsx)(J,{gameStatus:r}),P.map((function(e){var n=i(e);return Object(b.jsx)(H,{index:e,chipColors:n,gameStatus:r,nextPlayerColor:q(r),handleColumnClick:t},e)})),Object(b.jsx)(R,{})]})}function J(e){var n=e.gameStatus,t="";return E(n)&&(t="playerOneWins"===n?"Player One Wins!":"Player Two Wins!"),Object(b.jsx)(h.a,{id:"infoHeaderRow",sx:{position:"absolute",top:0,left:0,width:"100%",height:"14.280%",zIndex:15,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)(B.a,{in:""!==t,style:{transitionDelay:"300ms"},children:Object(b.jsx)(d.a,{variant:"h2",align:"center",children:t})})})}function R(e){return Object(b.jsx)(h.a,{id:"roundedGameBorder",sx:{boxSizing:"content-box",position:"absolute",top:D,left:"-9px",width:"calc(100% - 2px)",height:W,border:"10px solid",borderColor:"board.main",borderRadius:"10px",borderTop:0}})}function H(e){var n=e.index,t=e.chipColors,r=e.gameStatus,i=e.nextPlayerColor,a=e.handleColumnClick,o="";if(!E(r))switch(n){case 0:o="A";break;case 1:o="B";break;case 2:o="C";break;case 3:o="D";break;case 4:o="E";break;case 5:o="F";break;case 6:o="G";break;default:o="error"}return Object(b.jsxs)(h.a,{id:"column",onClick:function(){return a(n)},sx:{position:"relative",width:D,height:"100%",zIndex:9,"&:hover #hoverChip":{backgroundColor:"chip.".concat(i)}},children:[Object(b.jsx)(Y,{columnLetter:o}),Object(b.jsx)(_,{chipColors:t}),Object(b.jsx)(K,{})]})}function Q(e){e.id;var n=e.color,t="unclaimed"!==n,r="chip.".concat(n);return Object(b.jsx)(M.a,{in:t,direction:"down",children:Object(b.jsx)(h.a,{id:"transparentSquareFrame",sx:{width:"100%",height:"16.665%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(b.jsx)(h.a,{id:"chip",sx:{borderRadius:"50%",zIndex:"chip",bgcolor:r,width:L,height:L}})})})}function Y(e){return Object(b.jsx)(h.a,{id:"hoverChipContainer",sx:{width:"100%",height:D,zIndex:8,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(b.jsx)(h.a,{id:"hoverChip",sx:{bgcolor:"background",width:L,height:L,borderRadius:"50%",zIndex:8,display:"flex",justifyContent:"center",alignItems:"flex-end"},children:e.columnLetter})})}function _(e){var n;return Object(b.jsx)(h.a,{id:"chipContainer",sx:(n={bgcolor:"primary.main",width:"100%",height:"100%",position:"absolute",top:D},Object(k.a)(n,"bgcolor","transparent"),Object(k.a)(n,"height",W),Object(k.a)(n,"zIndex",8),Object(k.a)(n,"display","flex"),Object(k.a)(n,"flexDirection","column-reverse"),n),children:e.chipColors.map((function(e,n){return Object(b.jsx)(Q,{id:n,color:e},n)}))})}function K(e){function n(e){return Object(b.jsx)(h.a,{id:"squareWithHole",sx:{overflow:"hidden",width:"100%",height:"16.666%",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 1px 1px 1px #0039cb"},children:Object(b.jsx)(h.a,{id:"hole",sx:{boxShadow:"0 0 0 99px #0039cb",borderRadius:"50%",bgcolor:"transparent",width:L,height:L}})},e.index)}return Object(b.jsx)(h.a,{id:"columnOfSquares",sx:{position:"absolute",top:D,bgcolor:"transparent",width:"100%",height:W,zIndex:"board",display:"flex",flexDirection:"column-reverse"},children:G.map((function(e,t){return Object(b.jsx)(n,{},t)}))})}var V=t(84);function $(e,n){var t;return"combining"===e?(t=function(e){var n=function(e){var n=X(1,99),t=X(1,99);return[n,t,n+t]}(),t="missingSum";console.log("getCombiningQuestion chose TYPE: ".concat(t));var r={type:t,fact:n};return console.log("COMBINING QUESTION: ".concat(JSON.stringify(r))),r}(),console.log("QUESTION: ".concat(JSON.stringify(t)))):"multiplying"===e?(t=void 0,console.log("QUESTION: ".concat(JSON.stringify(t)))):console.error("FAILED TO GET QUESTION!!!"),t}function X(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e)+e)}function Z(e){if("missingSum"===e)return(n=["What's the Sum?","Find the Total"])[Math.floor(Math.random()*n.length)];var n}var ee=t(161),ne=t(169),te=t(156),re=t(154),ie=i.a.forwardRef((function(e,n){return Object(b.jsx)(B.a,Object(V.a)({ref:n},e))}));function ae(e){var n=e.open,t=(e.activeCell,e.question),r=e.handleAnswerSubmit,a=e.maxSquareSideLength,o=t.type,s=(t.fact,Z(o)),l=function(e){var n=e.type,t=e.fact;if("missingSum"===n)return"".concat(t[0]," + ").concat(t[1]," = __");console.error("Failed to getEquationString with question: ".concat(JSON.stringify(e)))}(t);return Object(b.jsxs)(ee.a,{disableEscapeKeyDown:!0,open:n,onBackdropClick:function(){},"aria-describedby":"math-question-dialog",TransitionComponent:ie,fullWidth:!0,maxWidth:"md",PaperProps:{style:{margin:0,height:"".concat(.9*a,"px"),width:"".concat(.9*a,"px"),borderRadius:"50%"}},children:[Object(b.jsx)(u,{instructions:s}),Object(b.jsx)(g,{equationString:l}),Object(b.jsx)(j,{question:t,handleAnswerSubmit:r})]});function u(e){return Object(b.jsx)(d.a,{id:"Instructions",variant:"h3",sx:{height:"35%",width:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end"},children:e.instructions})}function g(e){var n=e.equationString;return Object(b.jsx)(d.a,{variant:"h1",sx:{width:"100%",height:"30%",display:"flex",justifyContent:"center",alignItems:"center",overflow:"visible"},children:n})}function j(e){var n=e.question,t=e.handleAnswerSubmit,r=function(e){var n=e.type;return e.fact,"missingSum"===n||"missingAddend"===n?"textField":"compareFractions"===n?"compareButtons":void console.error("Failed to getEquationString with question: ".concat(JSON.stringify(e)))}(n);if("textField"===r)return Object(b.jsx)(a,{handleAnswerSubmit:t});if("compareButtons"===r)return Object(b.jsx)(o,{handleAnswerSubmit:t});function a(e){var t=e.handleAnswerSubmit,r=i.a.useState(""),a=Object(c.a)(r,2),o=a[0],s=a[1],l=/^\d+$/.test(o),u=o.length>0&&!l;return Object(b.jsx)(h.a,{sx:{height:"35%",width:"100%",padding:"0 15%"},children:Object(b.jsxs)(ne.a,{id:"answer-input-form",color:"primary",error:u,sx:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",alignItems:"flex-start"},children:[Object(b.jsx)(te.a,{children:!1===u?"Your Answer":"Enter a whole number"}),Object(b.jsx)(re.a,{autoFocus:!0,id:"answer-input",label:!1===u?"Your Answer":"Enter a whole number",fullWidth:!0,size:"small",inputMode:"numeric",pattern:"[0-9]*",value:o,onChange:function(e){s(e.target.value)},"aria-describedby":"component-error-text"}),Object(b.jsx)(f.a,{onClick:function(){return t(n,o)},variant:"contained",sx:{ml:1,px:2.5},children:"Submit"})]})})}function o(e){e.handleAnswerSubmit;return Object(b.jsxs)(h.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(b.jsx)(f.a,{}),Object(b.jsx)(f.a,{}),Object(b.jsx)(f.a,{})]})}console.log("getInputComponent failed. Invalid answerInputType: ".concat(r))}}var oe=t(150),ce=t(85),se=t(163),le=Object(ce.a)({palette:{primary:{light:"#669944",main:"#2e6b12",dark:"#004000",contrastText:"#FFFFFF"},secondary:{light:"#FFFFF",main:"#78ba59",dark:"#004000",contrastText:"#FFFFFF"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},action:{disabledBackground:"#2e6b12",disabledOpacity:"0.5"},board:{light:"#2962ff",main:"#0039cb",dark:"#001399"},chip:{playerOne:"#d50000",playerTwo:"#ffea00",unclaimed:"#b3e5fc"},background:"#b3e5fc",white:"#FFFFFF",transparent:"rgba(0, 0, 0, 0)",selectedButton:"rgba(46, 107, 18, 1.0)",unselectedButton:"rgba(46, 107, 18, 0.65)"},components:{MuiPaper:{styleOverrides:{root:{backgroundColor:"#fff"}}}},typography:{button:{fontSize:"1.0rem",fontWeight:"700"}},status:{},shape:{borderRadius:8},spacing:8,transitions:{easing:{bounce:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",parabolicAcceleration:"cubic-bezier(0.5, 0.0, 1.0, 0.5)"}},zIndex:{chip:10,board:20}}),ue=Object(se.a)(le,{factor:2}),de=t(162);function he(){var e=i.a.useState("human"),n=Object(c.a)(e,2),t=n[0],r=(n[1],i.a.useState(["combining"])),a=Object(c.a)(r,2),o=a[0],u=(a[1],i.a.useState([])),d=Object(c.a)(u,2),f=d[0],g=d[1],j=i.a.useState("playerOnesTurn"),x=Object(c.a)(j,2),p=x[0],m=x[1],O=i.a.useState(!1),v=Object(c.a)(O,2),w=v[0],y=v[1],S=i.a.useState("none"),F=Object(c.a)(S,2),k=F[0],T=F[1],I=i.a.useState({type:"missingSum",fact:[1,2,3]}),N=Object(c.a)(I,2),q=N[0],B=N[1],M=s(),D=l(),W=M<=D?M:D;return Object(b.jsxs)(i.a.Fragment,{children:[Object(b.jsx)(oe.a,{}),Object(b.jsx)(de.a,{theme:ue,children:Object(b.jsx)(h.a,{id:"root",sx:{bgcolor:"background",height:"100vh",width:"100vw",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:Object(b.jsxs)(h.a,{id:"play-page",sx:{height:W,width:W,display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},children:[Object(b.jsx)(C,{handleNewGameClick:function(){T("abandonGame")},handleAbandonGameClick:function(){g([]),m("playerOnesTurn"),T("newGameSettings")},handleUndoClick:function(){var e=f.slice(0,-1);g(e),m(A(e)),T("none")}}),Object(b.jsx)(ae,{open:"question"===k,question:q,handleAnswerSubmit:function(e,n){console.log("Handling answer submit: ".concat(n," "));var r=function(e){var n=e.type,t=e.fact;return"missingSum"===n?t[t.length-1]:"missingAddend"===n?t[1]:"compareFractions"===n?t[0]>t[1]:void console.error("Failed to getEquationString with question: ".concat(JSON.stringify(e)))}(e);console.log("corect answer is: ".concat(r," "));var i=Number(n)===r;console.log("answerIsCorrect: ".concat(i," "));var a=i?w:-1,o=f.concat(a),c=A(o);return T("none"),setTimeout((function(){g(o),m(c)}),500),"bot"===t&&console.error("IT IS THE BOT'S TURN BUT GETBOTMOVE HAS NOT BEEN DEFINED"),0},maxSquareSideLength:W}),Object(b.jsx)(U,{moveList:f,gameStatus:p,handleColumnClick:function(e){var n=z(e,f).indexOf("unclaimed"),t=7*n+e;if(E(p))console.log("handleColumnClick() had NO EFFECT since game is already over!");else if(-1!==n){var r=function(e){var n=Math.floor(Math.random()*e.length);return e[n]}(o),i=function(e){return e<4?e:4===e?2:5===e?1:6===e?0:"error"}(e);console.log('Selected Topic "'.concat(r,'" and Difficulty level: "').concat(i,'"'));var a=$(r);console.log("QUESTION generated: ".concat(JSON.stringify(a))),B(a),T("question"),y(t)}else console.log("handleColumnClick() had NO EFFECT since column is full!")}})]})})})]})}var fe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,170)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),i(e),a(e),o(e)}))};o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(he,{})}),document.getElementById("root")),fe()}},[[111,1,2]]]);
//# sourceMappingURL=main.1cce18e8.chunk.js.map